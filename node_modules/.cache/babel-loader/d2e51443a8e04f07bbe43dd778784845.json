{"ast":null,"code":"import _slicedToArray from \"/home/parallels/Desktop/gp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/parallels/Desktop/gp/src/Return_Map.js\";\nimport React, { useState } from \"react\"; //import request from 'request';\n\nexport default function Map() {\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      error = _useState2[0],\n      setError = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      isLoaded = _useState4[0],\n      setIsLoaded = _useState4[1];\n\n  var _useState5 = useState([]),\n      _useState6 = _slicedToArray(_useState5, 2),\n      items = _useState6[0],\n      setItems = _useState6[1];\n\n  var place = {\n    lat: 25.012552936947003,\n    lng: 121.5405250609415\n  };\n  var site = {\n    url: 'http://127.0.0.1:8000/map/?lat=' + place.lat + '&lng=' + place.lng\n  };\n  var option = {\n    method: \"GET\",\n    headers: {\n      'Content-Type': 'image/jpg'\n    }\n  };\n\n  var _useState7 = useState(null),\n      _useState8 = _slicedToArray(_useState7, 2),\n      imageObjectURL = _useState8[0],\n      setimageObjectURL = _useState8[1];\n\n  fetch(\"http://127.0.0.1:8000/map/?lat=25.013362460447322&lng=121.54140203728495\", option).then(function (res) {\n    return res.blob();\n  }).then(function (result) {\n    setIsLoaded(true);\n    setItems(result);\n    setimageObjectURL(URL.createObjectURL(result));\n  }, function (error) {\n    setIsLoaded(true);\n    setError(error);\n  });\n  var map = {\n    width: '100%',\n    height: '100vh'\n  };\n\n  if (error) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: map,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 7\n      }\n    }, \"errorrrr\"), /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 7\n      }\n    }, imageObjectURL), /*#__PURE__*/React.createElement(\"img\", {\n      src: imageObjectURL,\n      alt: \" \",\n      width: map.width,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 7\n      }\n    }));\n  } else if (!isLoaded) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 12\n      }\n    }, \"Loading...\");\n  } else {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: map,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }\n    }, \"success\"), /*#__PURE__*/React.createElement(\"img\", {\n      src: site.url,\n      alt: \" \",\n      width: map.width,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 7\n      }\n    }));\n  }\n}","map":{"version":3,"names":["React","useState","Map","error","setError","isLoaded","setIsLoaded","items","setItems","place","lat","lng","site","url","option","method","headers","imageObjectURL","setimageObjectURL","fetch","then","res","blob","result","URL","createObjectURL","map","width","height"],"sources":["/home/parallels/Desktop/gp/src/Return_Map.js"],"sourcesContent":["import React , {useState  } from \"react\";\n//import request from 'request';\n\nexport default function Map(){\n    const [error, setError] = useState(null);\n    const [isLoaded, setIsLoaded] = useState(false);\n    const [items, setItems] = useState([]);\n    \n    const place = {\n      lat:25.012552936947003, \n      lng :121.5405250609415\n    }\n\n    const site={\n      url : 'http://127.0.0.1:8000/map/?lat='+place.lat+'&lng='+place.lng\n    }\n\n    const option = {\n      method:  \"GET\",\n      headers: {\n      'Content-Type': 'image/jpg',\n      }\n    }\n    const [imageObjectURL , setimageObjectURL]  = useState(null);\n\n \n    \n    fetch(\"http://127.0.0.1:8000/map/?lat=25.013362460447322&lng=121.54140203728495\" , option)\n      .then(res => res.blob())\n      .then(\n        (result) => {\n          setIsLoaded(true);\n          setItems(result);\n          setimageObjectURL( URL.createObjectURL(result));\n        },\n        \n        (error) => {\n          setIsLoaded(true);\n          setError(error);\n        }\n      )\n\n\n\n\nconst map = {\n  width :'100%',\n  height : '100vh'\n  \n}\n\n  if (error) {\n    return (\n\n    <div className ={map} >\n      <h3>errorrrr</h3>\n      <h3>{imageObjectURL}</h3>\n      <img src={imageObjectURL} alt= ' ' width={map.width}/>\n    </div>\n\n    )\n  } \n  else if (!isLoaded) {\n    return <div>Loading...</div>;\n  } \n  else {\n    return (\n      \n      <div className ={map} >\n        <h3>success</h3>\n      <img src={site.url} alt= ' ' width={map.width}/>\n    </div>\n      \n      \n    );\n  }\n\n\n\n}\n\n\n"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAiC,OAAjC,C,CACA;;AAEA,eAAe,SAASC,GAAT,GAAc;EAAA,gBACCD,QAAQ,CAAC,IAAD,CADT;EAAA;EAAA,IAClBE,KADkB;EAAA,IACXC,QADW;;EAAA,iBAEOH,QAAQ,CAAC,KAAD,CAFf;EAAA;EAAA,IAElBI,QAFkB;EAAA,IAERC,WAFQ;;EAAA,iBAGCL,QAAQ,CAAC,EAAD,CAHT;EAAA;EAAA,IAGlBM,KAHkB;EAAA,IAGXC,QAHW;;EAKzB,IAAMC,KAAK,GAAG;IACZC,GAAG,EAAC,kBADQ;IAEZC,GAAG,EAAE;EAFO,CAAd;EAKA,IAAMC,IAAI,GAAC;IACTC,GAAG,EAAG,oCAAkCJ,KAAK,CAACC,GAAxC,GAA4C,OAA5C,GAAoDD,KAAK,CAACE;EADvD,CAAX;EAIA,IAAMG,MAAM,GAAG;IACbC,MAAM,EAAG,KADI;IAEbC,OAAO,EAAE;MACT,gBAAgB;IADP;EAFI,CAAf;;EAdyB,iBAoBqBf,QAAQ,CAAC,IAAD,CApB7B;EAAA;EAAA,IAoBlBgB,cApBkB;EAAA,IAoBDC,iBApBC;;EAwBzBC,KAAK,CAAC,0EAAD,EAA8EL,MAA9E,CAAL,CACGM,IADH,CACQ,UAAAC,GAAG;IAAA,OAAIA,GAAG,CAACC,IAAJ,EAAJ;EAAA,CADX,EAEGF,IAFH,CAGI,UAACG,MAAD,EAAY;IACVjB,WAAW,CAAC,IAAD,CAAX;IACAE,QAAQ,CAACe,MAAD,CAAR;IACAL,iBAAiB,CAAEM,GAAG,CAACC,eAAJ,CAAoBF,MAApB,CAAF,CAAjB;EACD,CAPL,EASI,UAACpB,KAAD,EAAW;IACTG,WAAW,CAAC,IAAD,CAAX;IACAF,QAAQ,CAACD,KAAD,CAAR;EACD,CAZL;EAkBJ,IAAMuB,GAAG,GAAG;IACVC,KAAK,EAAE,MADG;IAEVC,MAAM,EAAG;EAFC,CAAZ;;EAME,IAAIzB,KAAJ,EAAW;IACT,oBAEA;MAAK,SAAS,EAAGuB,GAAjB;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,gBACE;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,cADF,eAEE;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,GAAKT,cAAL,CAFF,eAGE;MAAK,GAAG,EAAEA,cAAV;MAA0B,GAAG,EAAE,GAA/B;MAAmC,KAAK,EAAES,GAAG,CAACC,KAA9C;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,EAHF,CAFA;EASD,CAVD,MAWK,IAAI,CAACtB,QAAL,EAAe;IAClB,oBAAO;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,gBAAP;EACD,CAFI,MAGA;IACH,oBAEE;MAAK,SAAS,EAAGqB,GAAjB;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,gBACE;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,aADF,eAEA;MAAK,GAAG,EAAEd,IAAI,CAACC,GAAf;MAAoB,GAAG,EAAE,GAAzB;MAA6B,KAAK,EAAEa,GAAG,CAACC,KAAxC;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,EAFA,CAFF;EASD;AAIF"},"metadata":{},"sourceType":"module"}