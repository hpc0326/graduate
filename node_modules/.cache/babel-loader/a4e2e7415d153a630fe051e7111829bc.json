{"ast":null,"code":"var os = require('os'); // Retrieves all interfaces that do feature some non-internal address.\n// This function does NOT employ caching as to reflect the current state\n// of the machine accurately.\n\n\nmodule.exports = function () {\n  var allAddresses = {};\n\n  try {\n    var ifaces = os.networkInterfaces();\n  } catch (e) {\n    // At October 2016 WSL does not support os.networkInterfaces() and throws\n    // Return empty object as if no interfaces were found\n    // https://github.com/Microsoft/BashOnWindows/issues/468\n    if (e.syscall === 'uv_interface_addresses') {\n      return allAddresses;\n    } else {\n      throw e;\n    }\n\n    ;\n  }\n\n  ;\n  Object.keys(ifaces).forEach(function (iface) {\n    var addresses = {};\n    var hasAddresses = false;\n    ifaces[iface].forEach(function (address) {\n      if (!address.internal) {\n        addresses[(address.family || \"\").toLowerCase()] = address.address;\n        hasAddresses = true;\n\n        if (address.mac && address.mac !== '00:00:00:00:00:00') {\n          addresses.mac = address.mac;\n        }\n      }\n    });\n\n    if (hasAddresses) {\n      allAddresses[iface] = addresses;\n    }\n  });\n  return allAddresses;\n};","map":null,"metadata":{},"sourceType":"script"}