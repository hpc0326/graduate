{"ast":null,"code":"import _slicedToArray from \"/home/parallels/Desktop/gp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/parallels/Desktop/gp/src/Map_Google_test1.js\";\nimport React, { useState } from \"react\";\nimport './App.css';\nimport { GoogleMap, useLoadScript, Marker, InfoWindow } from '@react-google-maps/api';\n\nfunction App() {\n  var _this = this;\n\n  var _useState = useState({\n    lat: 25,\n    lng: 121.5\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      state = _useState2[0],\n      setState = _useState2[1];\n\n  var _useState3 = useState({\n    lat: null,\n    lng: null\n  }),\n      _useState4 = _slicedToArray(_useState3, 2),\n      desti = _useState4[0],\n      setDesti = _useState4[1];\n\n  var _useState5 = useState(0),\n      _useState6 = _slicedToArray(_useState5, 2),\n      finFlag = _useState6[0],\n      setFin = _useState6[1];\n\n  var _useState7 = useState(null),\n      _useState8 = _slicedToArray(_useState7, 2),\n      activeMarker = _useState8[0],\n      setActiveMarker = _useState8[1];\n\n  var handleActiveMarker = function handleActiveMarker(marker) {\n    if (marker === activeMarker) {\n      return;\n    }\n\n    setActiveMarker(marker);\n  };\n\n  var getLocation = function getLocation() {\n    if (navigator.geolocation) {\n      navigator.geolocation.getCurrentPosition(getCoordinates, handleLocationError);\n    } else {\n      alert(\"Geolocaiton is not supported in the browser\");\n    }\n  };\n\n  var getCoordinates = function getCoordinates(position) {\n    setState({\n      lat: position.coords.latitude,\n      lng: position.coords.longitude\n    });\n    setFin(finFlag + 1);\n  };\n\n  var setStart = function setStart(pros) {\n    setState({\n      lat: pros.lat,\n      lng: pros.lng\n    });\n  };\n\n  var setDestination = function setDestination(pros) {\n    setDesti({\n      lat: pros.lat,\n      lng: pros.lng\n    });\n  };\n\n  var handleLocationError = function handleLocationError(error) {\n    switch (error.code) {\n      case error.PERMISSION_DENIED:\n        alert(\"User denied the request for Geolocation\");\n        break;\n\n      case error.POSITION_UNAVAILABLE:\n        alert('Location information is unavailable.');\n        break;\n\n      case error.TIMEOUT:\n        alert(\"The request to get user location timed out.\");\n        break;\n\n      case error.UNKNOWN_ERROR:\n        alert('An unknown error occurred.');\n        break;\n\n      default:\n        alert('An unknown error occurred.');\n    }\n  };\n\n  var _useLoadScript = useLoadScript({\n    googleMapsApiKey: \"AIzaSyAj6NGGgE6guMZsGqLod-WTNXcJGwq-DAs\"\n  }),\n      isLoaded = _useLoadScript.isLoaded;\n\n  var markers = [{\n    id: 1,\n    name: \"start\",\n    position: {\n      lat: state.lat,\n      lng: state.lng\n    }\n  }, {\n    id: 2,\n    name: \"desti\",\n    position: {\n      lat: desti.lat,\n      lng: desti.lng\n    }\n  }];\n  var center = {\n    lat: state.lat,\n    lng: state.lng\n  };\n  var containerStyle = {\n    width: '100%',\n    height: '100vh'\n  };\n\n  if (!isLoaded || finFlag === 0) {\n    getLocation();\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 12\n      }\n    }, \"Loading...\");\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 9\n    }\n  }, \"\\u8D77\\u9EDE\"), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: function onClick() {\n      return setStart({\n        lat: 25.01387286692449,\n        lng: 121.54281288590185\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 9\n    }\n  }, \"\\u7B2C\\u4E00\\u5B78\\u9910\"), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: function onClick() {\n      return setStart({\n        lat: 25.0119935,\n        lng: 121.5409525\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 9\n    }\n  }, \"\\u7B2C\\u4E09\\u5B78\\u9910\"), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: getLocation,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 9\n    }\n  }, \"\\u73FE\\u5728\\u4F4D\\u7F6E\")), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 9\n    }\n  }, \"\\u7D42\\u9EDE\"), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: function onClick() {\n      return setDestination({\n        lat: 25.01387286692449,\n        lng: 121.54281288590185\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 9\n    }\n  }, \"\\u7B2C\\u4E00\\u5B78\\u9910\"), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: function onClick() {\n      return setDestination({\n        lat: 25.0119935,\n        lng: 121.5409525\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 9\n    }\n  }, \"\\u7B2C\\u4E09\\u5B78\\u9910\")), /*#__PURE__*/React.createElement(GoogleMap, {\n    zoom: 17,\n    center: center,\n    mapContainerStyle: containerStyle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 7\n    }\n  }, markers.map(function (_ref) {\n    var id = _ref.id,\n        name = _ref.name,\n        position = _ref.position;\n    return /*#__PURE__*/React.createElement(Marker, {\n      key: id,\n      position: position,\n      onClick: function onClick() {\n        return handleActiveMarker(id);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 9\n      }\n    }, activeMarker === id ? /*#__PURE__*/React.createElement(InfoWindow, {\n      onCloseClick: function onCloseClick() {\n        return setActiveMarker(null);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 15\n      }\n    }, name)) : null);\n  })));\n}\n\nexport default App;","map":{"version":3,"names":["React","useState","GoogleMap","useLoadScript","Marker","InfoWindow","App","lat","lng","state","setState","desti","setDesti","finFlag","setFin","activeMarker","setActiveMarker","handleActiveMarker","marker","getLocation","navigator","geolocation","getCurrentPosition","getCoordinates","handleLocationError","alert","position","coords","latitude","longitude","setStart","pros","setDestination","error","code","PERMISSION_DENIED","POSITION_UNAVAILABLE","TIMEOUT","UNKNOWN_ERROR","googleMapsApiKey","isLoaded","markers","id","name","center","containerStyle","width","height","map"],"sources":["/home/parallels/Desktop/gp/src/Map_Google_test1.js"],"sourcesContent":["import React , {useState } from \"react\";\nimport './App.css'\nimport { GoogleMap , useLoadScript , Marker, InfoWindow} from '@react-google-maps/api';\n\nfunction App(){\n  const [state , setState] = useState({lat:25 , lng:121.5});\n  const [desti , setDesti] = useState({lat:null , lng:null});\n  const [finFlag , setFin] = useState(0);\n  const [activeMarker, setActiveMarker] = useState(null);\n\n  const handleActiveMarker = (marker) => {\n    if (marker === activeMarker) {\n      return;\n    }\n    setActiveMarker(marker);\n  };\n  \n  const getLocation = () =>{\n\n    if(navigator.geolocation){\n      navigator.geolocation.getCurrentPosition(getCoordinates , handleLocationError);\n      \n    }else{\n      alert(\"Geolocaiton is not supported in the browser\")\n    }\n  }\n  \n  const getCoordinates = (position) => {\n      setState({\n      lat: position.coords.latitude,\n      lng:position.coords.longitude\n    })\n    setFin(finFlag + 1);\n  }\n\n const setStart = (pros) =>{\n    setState({\n      lat: pros.lat,\n      lng: pros.lng\n    })\n }\n const setDestination = (pros) =>{\n    setDesti({\n      lat: pros.lat,\n      lng: pros.lng\n    })\n  }\n\n  const handleLocationError = (error) =>{\n    switch(error.code){\n      case error.PERMISSION_DENIED:\n        alert(\"User denied the request for Geolocation\")\n        break;\n      case error.POSITION_UNAVAILABLE:\n        alert('Location information is unavailable.')\n        break;\n      case error.TIMEOUT:\n        alert(\"The request to get user location timed out.\")\n        break;\n      case error.UNKNOWN_ERROR:\n        alert('An unknown error occurred.')\n        break;\n      default:\n        alert('An unknown error occurred.')\n    }\n  }\n\n  const {isLoaded } = useLoadScript({\n    googleMapsApiKey :\"AIzaSyAj6NGGgE6guMZsGqLod-WTNXcJGwq-DAs\",\n    \n  });\n  \n  const markers = [\n    {\n      id: 1,\n      name: \"start\",\n      position: { lat: state.lat, lng: state.lng }\n    },\n    {\n      id: 2,\n      name: \"desti\",\n      position: { lat: desti.lat, lng: desti.lng }\n    }\n  ];\n\n  const center = {lat :state.lat, lng :state.lng};\n  \n  const containerStyle = {\n    width: '100%',\n    height: '100vh'\n  };\n  \n  if(!isLoaded || finFlag === 0){\n    getLocation();\n    return <div>Loading...</div>;\n  } \n\n  \n  return (\n    <div >\n      <div>\n        <h3>起點</h3>\n        <button onClick={()=> setStart({lat:25.01387286692449,lng: 121.54281288590185 })}>第一學餐</button>\n        <button onClick={()=> setStart({lat:25.0119935 ,lng:121.5409525})}>第三學餐</button>\n        <button onClick={getLocation}>現在位置</button>\n      </div>\n      <div>\n        <h3>終點</h3>\n        <button onClick={()=> setDestination({lat:25.01387286692449,lng: 121.54281288590185 })}>第一學餐</button>\n        <button onClick={()=> setDestination({lat:25.0119935 ,lng:121.5409525})}>第三學餐</button>\n        \n      </div>\n      <GoogleMap \n        zoom={17} \n        center={center}\n        mapContainerStyle={containerStyle}\n      >\n        \n\n        {markers.map(({ id, name, position }) => (\n        <Marker\n          key={id}\n          position={position}\n          onClick={() => handleActiveMarker(id)}\n        >\n          {activeMarker === id ? (\n            <InfoWindow onCloseClick={() => setActiveMarker(null)}>\n              <div>{name}</div>\n            </InfoWindow>\n          ) : null}\n        </Marker>\n      ))}\n      </GoogleMap>\n    </div>\n  )\n \n\n}\n\nexport default App;"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,OAAO,WAAP;AACA,SAASC,SAAT,EAAqBC,aAArB,EAAqCC,MAArC,EAA6CC,UAA7C,QAA8D,wBAA9D;;AAEA,SAASC,GAAT,GAAc;EAAA;;EAAA,gBACeL,QAAQ,CAAC;IAACM,GAAG,EAAC,EAAL;IAAUC,GAAG,EAAC;EAAd,CAAD,CADvB;EAAA;EAAA,IACLC,KADK;EAAA,IACGC,QADH;;EAAA,iBAEeT,QAAQ,CAAC;IAACM,GAAG,EAAC,IAAL;IAAYC,GAAG,EAAC;EAAhB,CAAD,CAFvB;EAAA;EAAA,IAELG,KAFK;EAAA,IAEGC,QAFH;;EAAA,iBAGeX,QAAQ,CAAC,CAAD,CAHvB;EAAA;EAAA,IAGLY,OAHK;EAAA,IAGKC,MAHL;;EAAA,iBAI4Bb,QAAQ,CAAC,IAAD,CAJpC;EAAA;EAAA,IAILc,YAJK;EAAA,IAISC,eAJT;;EAMZ,IAAMC,kBAAkB,GAAG,SAArBA,kBAAqB,CAACC,MAAD,EAAY;IACrC,IAAIA,MAAM,KAAKH,YAAf,EAA6B;MAC3B;IACD;;IACDC,eAAe,CAACE,MAAD,CAAf;EACD,CALD;;EAOA,IAAMC,WAAW,GAAG,SAAdA,WAAc,GAAK;IAEvB,IAAGC,SAAS,CAACC,WAAb,EAAyB;MACvBD,SAAS,CAACC,WAAV,CAAsBC,kBAAtB,CAAyCC,cAAzC,EAA0DC,mBAA1D;IAED,CAHD,MAGK;MACHC,KAAK,CAAC,6CAAD,CAAL;IACD;EACF,CARD;;EAUA,IAAMF,cAAc,GAAG,SAAjBA,cAAiB,CAACG,QAAD,EAAc;IACjChB,QAAQ,CAAC;MACTH,GAAG,EAAEmB,QAAQ,CAACC,MAAT,CAAgBC,QADZ;MAETpB,GAAG,EAACkB,QAAQ,CAACC,MAAT,CAAgBE;IAFX,CAAD,CAAR;IAIFf,MAAM,CAACD,OAAO,GAAG,CAAX,CAAN;EACD,CAND;;EAQD,IAAMiB,QAAQ,GAAG,SAAXA,QAAW,CAACC,IAAD,EAAS;IACvBrB,QAAQ,CAAC;MACPH,GAAG,EAAEwB,IAAI,CAACxB,GADH;MAEPC,GAAG,EAAEuB,IAAI,CAACvB;IAFH,CAAD,CAAR;EAIF,CALD;;EAMA,IAAMwB,cAAc,GAAG,SAAjBA,cAAiB,CAACD,IAAD,EAAS;IAC7BnB,QAAQ,CAAC;MACPL,GAAG,EAAEwB,IAAI,CAACxB,GADH;MAEPC,GAAG,EAAEuB,IAAI,CAACvB;IAFH,CAAD,CAAR;EAID,CALF;;EAOC,IAAMgB,mBAAmB,GAAG,SAAtBA,mBAAsB,CAACS,KAAD,EAAU;IACpC,QAAOA,KAAK,CAACC,IAAb;MACE,KAAKD,KAAK,CAACE,iBAAX;QACEV,KAAK,CAAC,yCAAD,CAAL;QACA;;MACF,KAAKQ,KAAK,CAACG,oBAAX;QACEX,KAAK,CAAC,sCAAD,CAAL;QACA;;MACF,KAAKQ,KAAK,CAACI,OAAX;QACEZ,KAAK,CAAC,6CAAD,CAAL;QACA;;MACF,KAAKQ,KAAK,CAACK,aAAX;QACEb,KAAK,CAAC,4BAAD,CAAL;QACA;;MACF;QACEA,KAAK,CAAC,4BAAD,CAAL;IAdJ;EAgBD,CAjBD;;EA5CY,qBA+DQtB,aAAa,CAAC;IAChCoC,gBAAgB,EAAE;EADc,CAAD,CA/DrB;EAAA,IA+DLC,QA/DK,kBA+DLA,QA/DK;;EAoEZ,IAAMC,OAAO,GAAG,CACd;IACEC,EAAE,EAAE,CADN;IAEEC,IAAI,EAAE,OAFR;IAGEjB,QAAQ,EAAE;MAAEnB,GAAG,EAAEE,KAAK,CAACF,GAAb;MAAkBC,GAAG,EAAEC,KAAK,CAACD;IAA7B;EAHZ,CADc,EAMd;IACEkC,EAAE,EAAE,CADN;IAEEC,IAAI,EAAE,OAFR;IAGEjB,QAAQ,EAAE;MAAEnB,GAAG,EAAEI,KAAK,CAACJ,GAAb;MAAkBC,GAAG,EAAEG,KAAK,CAACH;IAA7B;EAHZ,CANc,CAAhB;EAaA,IAAMoC,MAAM,GAAG;IAACrC,GAAG,EAAEE,KAAK,CAACF,GAAZ;IAAiBC,GAAG,EAAEC,KAAK,CAACD;EAA5B,CAAf;EAEA,IAAMqC,cAAc,GAAG;IACrBC,KAAK,EAAE,MADc;IAErBC,MAAM,EAAE;EAFa,CAAvB;;EAKA,IAAG,CAACP,QAAD,IAAa3B,OAAO,KAAK,CAA5B,EAA8B;IAC5BM,WAAW;IACX,oBAAO;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,gBAAP;EACD;;EAGD,oBACE;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACE;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACE;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,kBADF,eAEE;IAAQ,OAAO,EAAE;MAAA,OAAKW,QAAQ,CAAC;QAACvB,GAAG,EAAC,iBAAL;QAAuBC,GAAG,EAAE;MAA5B,CAAD,CAAb;IAAA,CAAjB;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,8BAFF,eAGE;IAAQ,OAAO,EAAE;MAAA,OAAKsB,QAAQ,CAAC;QAACvB,GAAG,EAAC,UAAL;QAAiBC,GAAG,EAAC;MAArB,CAAD,CAAb;IAAA,CAAjB;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,8BAHF,eAIE;IAAQ,OAAO,EAAEW,WAAjB;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,8BAJF,CADF,eAOE;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACE;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,kBADF,eAEE;IAAQ,OAAO,EAAE;MAAA,OAAKa,cAAc,CAAC;QAACzB,GAAG,EAAC,iBAAL;QAAuBC,GAAG,EAAE;MAA5B,CAAD,CAAnB;IAAA,CAAjB;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,8BAFF,eAGE;IAAQ,OAAO,EAAE;MAAA,OAAKwB,cAAc,CAAC;QAACzB,GAAG,EAAC,UAAL;QAAiBC,GAAG,EAAC;MAArB,CAAD,CAAnB;IAAA,CAAjB;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,8BAHF,CAPF,eAaE,oBAAC,SAAD;IACE,IAAI,EAAE,EADR;IAEE,MAAM,EAAEoC,MAFV;IAGE,iBAAiB,EAAEC,cAHrB;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GAOGJ,OAAO,CAACO,GAAR,CAAY;IAAA,IAAGN,EAAH,QAAGA,EAAH;IAAA,IAAOC,IAAP,QAAOA,IAAP;IAAA,IAAajB,QAAb,QAAaA,QAAb;IAAA,oBACb,oBAAC,MAAD;MACE,GAAG,EAAEgB,EADP;MAEE,QAAQ,EAAEhB,QAFZ;MAGE,OAAO,EAAE;QAAA,OAAMT,kBAAkB,CAACyB,EAAD,CAAxB;MAAA,CAHX;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,GAKG3B,YAAY,KAAK2B,EAAjB,gBACC,oBAAC,UAAD;MAAY,YAAY,EAAE;QAAA,OAAM1B,eAAe,CAAC,IAAD,CAArB;MAAA,CAA1B;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,gBACE;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,GAAM2B,IAAN,CADF,CADD,GAIG,IATN,CADa;EAAA,CAAZ,CAPH,CAbF,CADF;AAuCD;;AAED,eAAerC,GAAf"},"metadata":{},"sourceType":"module"}