{"ast":null,"code":"import _slicedToArray from \"/home/parallels/Desktop/gp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/parallels/Desktop/gp/src/Return_Map.js\";\n//img tag to show the map\nimport React, { useState } from \"react\"; //import request from 'request';\n\nexport default function Map() {\n  //get the lat and lng of user\n  var _useState = useState({\n    number: null\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      delivery = _useState2[0],\n      setDelivery = _useState2[1];\n\n  var _useState3 = useState({\n    lat: null,\n    lng: null,\n    name: null\n  }),\n      _useState4 = _slicedToArray(_useState3, 2),\n      place = _useState4[0],\n      setPlace = _useState4[1];\n\n  var getLocation = function getLocation() {\n    if (navigator.geolocation) {\n      navigator.geolocation.getCurrentPosition(getCoordinates, handleLocationError);\n    } else {\n      alert(\"Geolocaiton is not supported in the browser\");\n    }\n  };\n\n  var getCoordinates = function getCoordinates(position) {\n    setPlace({\n      lat: position.coords.latitude,\n      lng: position.coords.longitude\n    });\n  }; //to log the error record of navigator\n\n\n  var handleLocationError = function handleLocationError(error) {\n    switch (error.code) {\n      case error.PERMISSION_DENIED:\n        alert(\"User denied the request for Geolocation\");\n        break;\n\n      case error.POSITION_UNAVAILABLE:\n        alert('Location information is unavailable.');\n        break;\n\n      case error.TIMEOUT:\n        alert(\"The request to get user location timed out.\");\n        break;\n\n      case error.UNKNOWN_ERROR:\n        alert('An unknown error occurred.');\n        break;\n\n      default:\n        alert('An unknown error occurred.');\n    }\n  };\n\n  var site = {\n    LatLngUrl: 'http://127.0.0.1:8000/?start=' + delivery.number + '&end=[' + place.lat + ',' + place.lng + ']',\n    NameUrl: 'http://127.0.0.1:8000/?start=' + delivery.number + '&end=' + place.name\n  };\n  var map = {\n    width: '100%',\n    height: '100vh'\n  };\n\n  var getValue = function getValue() {\n    var building = document.getElementById(\"building\").value;\n    setPlace({\n      name: building\n    });\n  };\n\n  if (delivery.number == null || place.lat == null || place.lng == null) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 7\n      }\n    }, \"Click the button to set the restaurant and destination\"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 70\n      }\n    }), /*#__PURE__*/React.createElement(\"h5\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 7\n      }\n    }, \"set Restaurant\"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 30\n      }\n    }), /*#__PURE__*/React.createElement(\"h6\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 7\n      }\n    }, delivery.number), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      onClick: function onClick() {\n        return setDelivery({\n          number: 1\n        });\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 11\n      }\n    }, \"\\u7B2C\\u4E00\\u5B78\\u9910\"), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: function onClick() {\n        return setDelivery({\n          number: 3\n        });\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 11\n      }\n    }, \"\\u7B2C\\u4E09\\u5B78\\u9910\"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 71\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 76\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 81\n      }\n    })), /*#__PURE__*/React.createElement(\"h5\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 7\n      }\n    }, \"set the deliver destinastion\"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 44\n      }\n    }), /*#__PURE__*/React.createElement(\"h6\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 7\n      }\n    }, \"lat: \", place.lat, \" lng: \", place.lng, \" name: \", place.name), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      onClick: function onClick() {\n        return setPlace({\n          lat: 25.014229966528152,\n          lng: 121.54136190068499\n        });\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 11\n      }\n    }, \"RB\"), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: function onClick() {\n        return setPlace({\n          lat: 25.011976749737887,\n          lng: 121.54151956449694\n        });\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 11\n      }\n    }, \"EE\"), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: function onClick() {\n        return setPlace({\n          lat: 25.013281305547366,\n          lng: 121.5403459659688\n        });\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 11\n      }\n    }, \"IB\"), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: function onClick() {\n        return setPlace({\n          lat: 25.015153349835774,\n          lng: 121.54268069839854\n        });\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 11\n      }\n    }, \"TR\")), /*#__PURE__*/React.createElement(\"h5\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 7\n      }\n    }, \"type in the building abbreviation\"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 49\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: getValue,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 7\n      }\n    }, \"new dest\"), \" \", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 52\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      id: \"building\",\n      placeholder: \"building\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 7\n      }\n    }));\n  } else {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: map,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 7\n      }\n    }, \"success\"), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: function onClick() {\n        return setPlace({\n          lat: null,\n          lng: null\n        });\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 7\n      }\n    }, \"Delete\"), /*#__PURE__*/React.createElement(\"img\", {\n      src: site.LatLngUrl,\n      alt: \" \",\n      width: map.width,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 7\n      }\n    }));\n  }\n}","map":{"version":3,"names":["React","useState","Map","number","delivery","setDelivery","lat","lng","name","place","setPlace","getLocation","navigator","geolocation","getCurrentPosition","getCoordinates","handleLocationError","alert","position","coords","latitude","longitude","error","code","PERMISSION_DENIED","POSITION_UNAVAILABLE","TIMEOUT","UNKNOWN_ERROR","site","LatLngUrl","NameUrl","map","width","height","getValue","building","document","getElementById","value"],"sources":["/home/parallels/Desktop/gp/src/Return_Map.js"],"sourcesContent":["//img tag to show the map\nimport React , {useState} from \"react\";\n//import request from 'request';\n\nexport default function Map(){\n  //get the lat and lng of user\n  const [delivery , setDelivery] = useState({\n    number: null\n  })\n\n  const [place , setPlace] = useState({\n    lat: null ,lng: null , name : null\n  })\n\n  const getLocation = () =>{\n\n    if(navigator.geolocation){\n      navigator.geolocation.getCurrentPosition(getCoordinates , handleLocationError);\n      \n    }else{\n      alert(\"Geolocaiton is not supported in the browser\")\n    }\n  }\n  \n  const getCoordinates = (position) => {\n      setPlace({\n      lat: position.coords.latitude,\n      lng:position.coords.longitude\n    })\n\n  }\n  //to log the error record of navigator\n  const handleLocationError = (error) =>{\n    switch(error.code){\n      case error.PERMISSION_DENIED:\n        alert(\"User denied the request for Geolocation\")\n        break;\n      case error.POSITION_UNAVAILABLE:\n        alert('Location information is unavailable.')\n        break;\n      case error.TIMEOUT:\n        alert(\"The request to get user location timed out.\")\n        break;\n      case error.UNKNOWN_ERROR:\n        alert('An unknown error occurred.')\n        break;\n      default:\n        alert('An unknown error occurred.')\n    }\n  }\n    \n\n  const site={\n    LatLngUrl : 'http://127.0.0.1:8000/?start='+delivery.number+'&end=['+place.lat+','+place.lng+']',\n    NameUrl : 'http://127.0.0.1:8000/?start='+delivery.number+'&end='+place.name\n  }\n\n  const map = {\n    width :'100%',\n    height : '100vh'\n  }\n\n  const getValue = () => {\n    const building = document.getElementById(\"building\").value\n    setPlace({name : building})\n  }\n  \n  if (delivery.number == null || place.lat ==null || place.lng == null){\n    return (\n    <div>\n      <h3>Click the button to set the restaurant and destination</h3><br/>\n      <h5>set Restaurant</h5><br/>\n      <h6>{delivery.number}</h6>\n        <div>\n          <button onClick={()=> setDelivery({number:1 })}>第一學餐</button>\n          <button onClick={()=> setDelivery({number:3})}>第三學餐</button><br/><br/><br/>\n        </div>\n      <h5>set the deliver destinastion</h5><br/>\n      <h6>lat: {place.lat} lng: {place.lng} name: {place.name}</h6>\n        <div>\n          <button onClick={()=> setPlace({lat:25.014229966528152, lng:121.54136190068499})}>RB</button>\n          <button onClick={()=> setPlace({lat:25.011976749737887, lng:121.54151956449694})}>EE</button>\n          <button onClick={()=> setPlace({lat:25.013281305547366, lng:121.5403459659688})}>IB</button>\n          <button onClick={()=> setPlace({lat:25.015153349835774, lng:121.54268069839854})}>TR</button>\n        </div>\n      <h5>type in the building abbreviation</h5><br/>\n      <button onClick={getValue}>new dest</button> <br/>\n      <input id=\"building\" placeholder=\"building\"></input>\n\n    </div>);\n  }\n  else{\n    return(\n    <div className ={map} >\n      <h3>success</h3>\n      <button onClick={()=>setPlace({lat:null, lng:null})}>Delete</button>\n      <img src={site.LatLngUrl} alt= ' ' width={map.width}/>\n      \n  </div> ) \n  }\n  \n \n\n\n\n}\n\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}